<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philosophers - Guia de Conceitos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .presentation {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .slide {
            background: white;
            border-radius: 20px;
            padding: 60px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            min-height: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .slide-title {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 5px solid #764ba2;
            padding-bottom: 20px;
        }
        
        .slide-subtitle {
            font-size: 1.5em;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .concept-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .concept-title {
            font-size: 2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .concept-icon {
            font-size: 1.5em;
        }
        
        .concept-description {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .code-example {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .keyword { color: #ff79c6; }
        .function { color: #50fa7b; }
        .comment { color: #6272a4; font-style: italic; }
        .string { color: #f1fa8c; }
        .number { color: #bd93f9; }
        
        .analogy-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }
        
        .analogy-title {
            font-size: 1.5em;
            color: #856404;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .analogy-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #333;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        .comparison-item {
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .correct {
            background: #d4edda;
            border-left: 5px solid #28a745;
        }
        
        .incorrect {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
        }
        
        .comparison-title {
            font-size: 1.4em;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .correct .comparison-title { color: #155724; }
        .incorrect .comparison-title { color: #721c24; }
        
        .visual-demo {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }
        
        .timeline {
            position: relative;
            padding: 30px 0;
            margin: 30px 0;
        }
        
        .timeline-item {
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            position: relative;
            padding-left: 80px;
        }
        
        .timeline-time {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-weight: bold;
            color: #667eea;
            font-size: 1.2em;
        }
        
        .key-points {
            background: #e7f3ff;
            border-left: 5px solid #2196F3;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }
        
        .key-points-title {
            font-size: 1.5em;
            color: #0d47a1;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .key-points ul {
            list-style: none;
            padding-left: 0;
        }
        
        .key-points li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .key-points li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.3em;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 3px solid #ffc107;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
        }
        
        .warning-title {
            font-size: 1.5em;
            color: #856404;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .table-of-contents {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .toc-item {
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .toc-item:hover {
            transform: translateX(10px);
        }
        
        @media (max-width: 768px) {
            .slide {
                padding: 30px;
            }
            
            .slide-title {
                font-size: 2em;
            }
            
            .comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="presentation">
        
        <!-- SLIDE 1: T√çTULO -->
        <div class="slide">
            <h1 class="slide-title">üß† PHILOSOPHERS</h1>
            <h2 class="slide-subtitle">Guia Completo de Conceitos</h2>
            <div style="text-align: center; margin-top: 50px;">
                <p style="font-size: 1.5em; color: #666; margin-bottom: 20px;">
                    Programa√ß√£o Concorrente & Sincroniza√ß√£o de Threads
                </p>
                <p style="font-size: 1.2em; color: #999;">
                    Do b√°sico ao avan√ßado com exemplos pr√°ticos
                </p>
            </div>
        </div>

        <!-- SLIDE 2: √çNDICE -->
        <div class="slide">
            <h2 class="slide-title">üìö √çndice</h2>
            <div class="table-of-contents">
                <div class="toc-item">1Ô∏è‚É£ Processos vs Threads</div>
                <div class="toc-item">2Ô∏è‚É£ Threads POSIX (pthreads)</div>
                <div class="toc-item">3Ô∏è‚É£ Mutexes e Critical Sections</div>
                <div class="toc-item">4Ô∏è‚É£ Data Races</div>
                <div class="toc-item">5Ô∏è‚É£ Deadlocks</div>
                <div class="toc-item">6Ô∏è‚É£ Sincroniza√ß√£o de Tempo</div>
                <div class="toc-item">7Ô∏è‚É£ Problemas Cl√°ssicos</div>
                <div class="toc-item">8Ô∏è‚É£ Boas Pr√°ticas</div>
            </div>
        </div>

        <!-- SLIDE 3: PROCESSOS VS THREADS -->
        <div class="slide">
            <h2 class="slide-title">1Ô∏è‚É£ Processos vs Threads</h2>
            
            <div class="concept-box">
                <h3 class="concept-title">
                    <span class="concept-icon">üñ•Ô∏è</span>
                    O que √© um Processo?
                </h3>
                <p class="concept-description">
                    Um <strong>processo</strong> √© um programa em execu√ß√£o. Cada processo tem:
                </p>
                <ul style="font-size: 1.1em; line-height: 2; margin-left: 40px;">
                    <li>Seu pr√≥prio espa√ßo de mem√≥ria</li>
                    <li>Seus pr√≥prios recursos (arquivos, sockets)</li>
                    <li>PID (Process ID) √∫nico</li>
                    <li>Isolamento total de outros processos</li>
                </ul>
            </div>

            <div class="analogy-box">
                <div class="analogy-title">üè† Analogia do Mundo Real</div>
                <div class="analogy-text">
                    Um <strong>processo</strong> √© como uma <strong>casa</strong>:
                    <br>‚Ä¢ Tem seus pr√≥prios quartos, cozinha, banheiro
                    <br>‚Ä¢ Totalmente isolada das casas vizinhas
                    <br>‚Ä¢ Para comunicar com outra casa, precisa sair e tocar a campainha
                </div>
            </div>

            <div class="concept-box">
                <h3 class="concept-title">
                    <span class="concept-icon">üßµ</span>
                    O que √© uma Thread?
                </h3>
                <p class="concept-description">
                    Uma <strong>thread</strong> √© uma linha de execu√ß√£o dentro de um processo. Threads do mesmo processo compartilham:
                </p>
                <ul style="font-size: 1.1em; line-height: 2; margin-left: 40px;">
                    <li>O mesmo espa√ßo de mem√≥ria</li>
                    <li>Os mesmos recursos</li>
                    <li>Vari√°veis globais</li>
                    <li>Mas cada uma tem sua pr√≥pria pilha (stack)</li>
                </ul>
            </div>

            <div class="analogy-box">
                <div class="analogy-title">üë• Analogia do Mundo Real</div>
                <div class="analogy-text">
                    Uma <strong>thread</strong> √© como uma <strong>pessoa dentro da casa</strong>:
                    <br>‚Ä¢ Todas compartilham a mesma cozinha, sala, banheiro
                    <br>‚Ä¢ Podem se comunicar facilmente
                    <br>‚Ä¢ Mas cada uma tem seu pr√≥prio quarto (stack)
                    <br>‚Ä¢ <strong>PROBLEMA:</strong> Podem entrar em conflito (ex: duas pessoas querem usar a mesma panela)
                </div>
            </div>
        </div>

        <!-- SLIDE 4: COMPARA√á√ÉO VISUAL -->
        <div class="slide">
            <h2 class="slide-title">Processos vs Threads - Compara√ß√£o</h2>
            
            <div class="comparison">
                <div style="background: #e3f2fd; padding: 30px; border-radius: 15px;">
                    <h3 style="color: #1976d2; margin-bottom: 20px; font-size: 1.8em;">
                        üñ•Ô∏è PROCESSOS
                    </h3>
                    <div style="font-size: 1.1em; line-height: 2;">
                        <p><strong>‚ûï Vantagens:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Isolamento total</li>
                            <li>Crash n√£o afeta outros</li>
                            <li>Mais seguro</li>
                        </ul>
                        <br>
                        <p><strong>‚ûñ Desvantagens:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Pesados (muita mem√≥ria)</li>
                            <li>Cria√ß√£o lenta</li>
                            <li>Comunica√ß√£o complicada</li>
                        </ul>
                    </div>
                </div>

                <div style="background: #f3e5f5; padding: 30px; border-radius: 15px;">
                    <h3 style="color: #7b1fa2; margin-bottom: 20px; font-size: 1.8em;">
                        üßµ THREADS
                    </h3>
                    <div style="font-size: 1.1em; line-height: 2;">
                        <p><strong>‚ûï Vantagens:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Leves (pouca mem√≥ria)</li>
                            <li>Cria√ß√£o r√°pida</li>
                            <li>Compartilham dados facilmente</li>
                        </ul>
                        <br>
                        <p><strong>‚ûñ Desvantagens:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Crash afeta todas</li>
                            <li>Data races poss√≠veis</li>
                            <li>Sincroniza√ß√£o complexa</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="key-points">
                <div class="key-points-title">üéØ No Philosophers usamos THREADS porque:</div>
                <ul>
                    <li>Precisamos de v√°rias execu√ß√µes paralelas (N fil√≥sofos)</li>
                    <li>Todos precisam acessar dados compartilhados (garfos, tempo)</li>
                    <li>Queremos efici√™ncia (threads s√£o mais leves)</li>
                </ul>
            </div>
        </div>

        <!-- SLIDE 5: THREADS POSIX -->
        <div class="slide">
            <h2 class="slide-title">2Ô∏è‚É£ Threads POSIX (pthreads)</h2>
            
            <div class="concept-box">
                <h3 class="concept-title">
                    <span class="concept-icon">üìö</span>
                    O que √© POSIX?
                </h3>
                <p class="concept-description">
                    <strong>POSIX</strong> (Portable Operating System Interface) √© um padr√£o para sistemas Unix-like.
                    <br><strong>pthreads</strong> = biblioteca de threads do POSIX.
                </p>
            </div>

            <h3 style="color: #667eea; font-size: 1.8em; margin: 30px 0;">Fun√ß√µes Principais</h3>

            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    pthread_create() - Criar Thread
                </h4>
                <div class="code-example">
<span class="keyword">int</span> <span class="function">pthread_create</span>(
    <span class="keyword">pthread_t</span> *thread,        <span class="comment">// ID da thread (output)</span>
    <span class="keyword">const pthread_attr_t</span> *attr, <span class="comment">// Atributos (NULL = default)</span>
    <span class="keyword">void</span> *(*start_routine)(<span class="keyword">void</span>*), <span class="comment">// Fun√ß√£o a executar</span>
    <span class="keyword">void</span> *arg                 <span class="comment">// Argumento para a fun√ß√£o</span>
);
                </div>
                <p style="font-size: 1.1em; margin-top: 15px; line-height: 1.8;">
                    <strong>Retorno:</strong> 0 em sucesso, c√≥digo de erro caso contr√°rio
                    <br><strong>O que faz:</strong> Cria uma nova thread que executa <code>start_routine(arg)</code>
                </p>
            </div>

            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    Exemplo Pr√°tico
                </h4>
                <div class="code-example">
<span class="keyword">void</span> *<span class="function">print_hello</span>(<span class="keyword">void</span> *arg)
{
    <span class="keyword">int</span> id = *(<span class="keyword">int</span>*)arg;
    <span class="function">printf</span>(<span class="string">"Hello from thread %d!\n"</span>, id);
    <span class="keyword">return</span> <span class="number">NULL</span>;
}

<span class="keyword">int</span> <span class="function">main</span>()
{
    <span class="keyword">pthread_t</span> thread1, thread2;
    <span class="keyword">int</span> id1 = <span class="number">1</span>, id2 = <span class="number">2</span>;
    
    <span class="comment">// Cria thread 1</span>
    <span class="function">pthread_create</span>(&thread1, <span class="number">NULL</span>, print_hello, &id1);
    
    <span class="comment">// Cria thread 2</span>
    <span class="function">pthread_create</span>(&thread2, <span class="number">NULL</span>, print_hello, &id2);
    
    <span class="comment">// ‚ö†Ô∏è IMPORTANTE: Aguardar threads terminarem!</span>
    <span class="function">pthread_join</span>(thread1, <span class="number">NULL</span>);
    <span class="function">pthread_join</span>(thread2, <span class="number">NULL</span>);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>
            </div>
        </div>

        <!-- SLIDE 6: PTHREAD_JOIN -->
        <div class="slide">
            <h2 class="slide-title">pthread_join() - Aguardar Thread</h2>
            
            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    Sintaxe
                </h4>
                <div class="code-example">
<span class="keyword">int</span> <span class="function">pthread_join</span>(
    <span class="keyword">pthread_t</span> thread,    <span class="comment">// Thread para aguardar</span>
    <span class="keyword">void</span> **retval        <span class="comment">// Valor de retorno (pode ser NULL)</span>
);
                </div>
                <p style="font-size: 1.1em; margin-top: 15px; line-height: 1.8;">
                    <strong>O que faz:</strong> Bloqueia a thread atual at√© que <code>thread</code> termine
                    <br><strong>Analogia:</strong> √â como esperar algu√©m terminar de falar antes de voc√™ falar
                </p>
            </div>

            <div class="warning-box">
                <div class="warning-title">‚ö†Ô∏è ERRO COMUM</div>
                <div style="font-size: 1.1em; line-height: 1.8;">
                    <strong>Esquecer o pthread_join():</strong>
                    <br>‚Ä¢ O programa termina antes das threads executarem
                    <br>‚Ä¢ As threads s√£o destru√≠das prematuramente
                    <br>‚Ä¢ <strong>Foi exatamente o teu problema inicial!</strong>
                </div>
            </div>

            <div class="comparison">
                <div class="incorrect">
                    <div class="comparison-title">‚ùå ERRADO</div>
                    <div class="code-example">
<span class="keyword">int</span> <span class="function">main</span>()
{
    <span class="keyword">pthread_t</span> t;
    <span class="function">pthread_create</span>(&t, <span class="number">NULL</span>, func, <span class="number">NULL</span>);
    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// ‚ùå Termina imediatamente!</span>
}
                    </div>
                </div>

                <div class="correct">
                    <div class="comparison-title">‚úÖ CORRETO</div>
                    <div class="code-example">
<span class="keyword">int</span> <span class="function">main</span>()
{
    <span class="keyword">pthread_t</span> t;
    <span class="function">pthread_create</span>(&t, <span class="number">NULL</span>, func, <span class="number">NULL</span>);
    <span class="function">pthread_join</span>(t, <span class="number">NULL</span>); <span class="comment">// ‚úÖ Aguarda!</span>
    <span class="keyword">return</span> <span class="number">0</span>;
}
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 7: MUTEXES -->
        <div class="slide">
            <h2 class="slide-title">3Ô∏è‚É£ Mutexes</h2>
            
            <div class="concept-box">
                <h3 class="concept-title">
                    <span class="concept-icon">üîí</span>
                    O que √© um Mutex?
                </h3>
                <p class="concept-description">
                    <strong>Mutex</strong> = <strong>MUT</strong>ual <strong>EX</strong>clusion (Exclus√£o M√∫tua)
                    <br><br>
                    √â um "cadeado" que garante que apenas UMA thread acesse um recurso por vez.
                </p>
            </div>

            <div class="analogy-box">
                <div class="analogy-title">üöª Analogia: Banheiro P√∫blico</div>
                <div class="analogy-text">
                    Imagine um banheiro com apenas 1 cabine:
                    <br><br>
                    <strong>Sem Mutex:</strong>
                    <br>‚Ä¢ V√°rias pessoas tentam entrar ao mesmo tempo
                    <br>‚Ä¢ Caos total! üò±
                    <br><br>
                    <strong>Com Mutex (trancar a porta):</strong>
                    <br>‚Ä¢ Primeira pessoa entra e <strong>tranca</strong> (lock)
                    <br>‚Ä¢ Outras esperam na fila
                    <br>‚Ä¢ Quando sai, <strong>destranca</strong> (unlock)
                    <br>‚Ä¢ Pr√≥xima pessoa pode entrar
                </div>
            </div>
        </div>

        <!-- SLIDE 8: MUTEX - FUN√á√ïES -->
        <div class="slide">
            <h2 class="slide-title">Mutex - Fun√ß√µes</h2>
            
            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    1. Inicializar
                </h4>
                <div class="code-example">
<span class="keyword">pthread_mutex_t</span> mutex;
<span class="function">pthread_mutex_init</span>(&mutex, <span class="number">NULL</span>);
                </div>
            </div>

            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    2. Trancar (Lock)
                </h4>
                <div class="code-example">
<span class="function">pthread_mutex_lock</span>(&mutex);
<span class="comment">// Agora apenas ESTA thread pode executar este c√≥digo
// Outras threads ficam BLOQUEADAS aqui</span>
                </div>
            </div>

            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    3. Destrancar (Unlock)
                </h4>
                <div class="code-example">
<span class="function">pthread_mutex_unlock</span>(&mutex);
<span class="comment">// Libera o mutex para outra thread usar</span>
                </div>
            </div>

            <div style="background: white; padding: 30px; border-radius: 15px; margin: 20px 0;">
                <h4 style="color: #764ba2; font-size: 1.5em; margin-bottom: 20px;">
                    4. Destruir
                </h4>
                <div class="code-example">
<span class="function">pthread_mutex_destroy</span>(&mutex);
<span class="comment">// Sempre destruir no final!</span>
                </div>
            </div>
        </div>

        <!-- SLIDE 9: MUTEX - EXEMPLO PR√ÅTICO -->
        <div class="slide">
            <h2 class="slide-title">Mutex - Exemplo Pr√°tico</h2>
            
            <div class="comparison">
                <div class="incorrect">
                    <div class="comparison-title">‚ùå SEM MUTEX (Data Race!)</div>
                    <div class="code-example" style="font-size: 0.9em;">
<span class="keyword">int</span> counter = <span class="number">0</span>;

<span class="keyword">void</span> *<span class="function">increment</span>(<span class="keyword">void</span> *arg)
{
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">1000000</span>; i++)
        counter++; <span class="comment">// ‚ùå PERIGOSO!</span>
    <span class="keyword">return</span> <span class="number">NULL</span>;
}

<span class="keyword">int</span> <span class="function">main</span>()
{
    <span class="keyword">pthread_t</span> t1, t2;
    <span class="function">pthread_create</span>(&t1, <span class="number">NULL</span>, increment, <span class="number">NULL</span>);
    <span class="function">pthread_create</span>(&t2, <span class="number">NULL</span>, increment, <span class="number">NULL</span>);
    <span class="function">pthread_join</span>(t1, <span class="number">NULL</span>);
    <span class="function">pthread_join</span>(t2, <span class="number">NULL</span>);
    
    <span class="function">printf</span>(<span class="string">"Counter: %d\n"</span>, counter);
    <span class="comment">// Esperado: 2000000</span>
    <span class="comment">// Real: ~1500000 (ERRADO!)</span>
}
                    </div>
                </div>

                <div class="correct">
                    <div class="comparison-title">‚úÖ COM MUTEX</div>
                    <div class="code-example" style="font-size: 0.9em;">
<span class="keyword">int</span> counter = <span class="number">0</span>;
<span class="keyword">pthread_mutex_t</span> mutex;

<span class="keyword">void</span> *<span class="function">increment</span>(<span class="keyword">void</span> *arg)
{
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">1000000</span>; i++)
    {
        <span class="function">pthread_mutex_lock</span>(&mutex);
        counter++; <span class="comment">// ‚úÖ SEGURO!</span>
        <span class="function">pthread_mutex_unlock</span